---
interface Props {
  title: string;
  author?: string;
  date?: Date;
}

const { title, author = 'Martin Michálek', date } = Astro.props;

function formatDate(date: Date | undefined): string {
  if (!date) return '';
  return new Intl.DateTimeFormat('cs-CZ', {
    day: 'numeric',
    month: 'numeric',
    year: 'numeric',
  }).format(date);
}
---

<div class="page-head page-head--subhead">
  <h1>{title}</h1>
</div>

<div class="page-subhead">
  <p class="mb-0 page-subhead__meta">
    <a class="page-subhead__author" href="/martin">
      <span class="avatar avatar--tiny avatar--inline mr-05">
        <img src="/assets/img/content/lectors/shoulders-martin-michalek_50x50.png" alt="Martin Michálek" width="50" height="50" class="avatar__image" />
      </span>
      {author}
    </a>
    {date && (
      <span class="page-subhead__date">
        &nbsp;&ndash;
        {formatDate(date)}
      </span>
    )}
  </p>
</div>
