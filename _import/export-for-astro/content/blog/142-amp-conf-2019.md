---
postID: 142
postTitle: 'AMP Conf 2019: Co je nového kolem AMP?'
postUrlId: amp-conf-2019
postDateTime: 2019-05-08
excerpt: 'Projekt Bento. Weby z Cache na původních URL, že by? JavaScript v AMP.'
postStatus: Published
authorID: 1
sectionID: 1
category:
  - amp
no_ads: true
include_rss: true
category_highlight: true
og_title: 'AMP Conf 2019: Co je nového kolem AMP?'
og_description: 'Projekt Bento. Weby z Cache na původních URL, že by? JavaScript v AMP.'
og_type: article
---

# AMP Conf 2019: Co je nového kolem AMP?

Už je to pár týdnů, kdy proběhla [nejnovější konference](https://amp.dev/events/amp-conf-2019) představující novinky ze světa AMP. Neměl jsem ale moc času sepsat všechny ty zajímavé body, protože dopisuju e-book… no… hádejte o čem.

Zpráv bylo docela dost. Vybral jsem zde čtyři nejzajímavější. Předesílám, že budu často odkazovat na nově redesignovaný web téhle mé aktuálně nejoblíbenější technologie, který určitě za pozornost stojí taky – [amp.dev](https://amp.dev). 

Nebudu se také příliš zdržovat vysvětlováním [základů AMP](/prirucka/amp). 

## Projekt Bento: AMP jako framework na tvorbu webů

Jeden ze způsobů, jak lze AMP použít, je jako HTML, CSS a JS framework pro tvorbu webů. Například pro nasazení karuselu vezmete [amp-carousel](https://amp.dev/documentation/examples/components/amp-carousel/) namísto jQuery (a jiných) pluginů:

```html
<amp-carousel height="300" layout="fixed-height" type="carousel">
  <amp-img src="image1.jpg" width="400" height="300" alt="…"></amp-img>
  <amp-img src="image2.jpg" width="400" height="300" alt="…"></amp-img>
  <amp-img src="image3.jpg" width="400" height="300" alt="…"></amp-img>
</amp-carousel>
```

Velká výhoda takového přístupu je, že nemusíte vytvářet dvě verze webu – AMP a ne-AMP (běžný responzivní web). Jenže to má háček – všechny komponenty vyžadují stažení hlavní knihovny, které občas autoři říkají *AMP runtime*. A ta stahuje něco kolem 75 kilobajtů. Velké mrzení, že?

AMP Bento je interní projekt, který má zařídit osamostatnění komponent, tedy možnost využití bez základní knihovny. 

<div class="rwd-media">
<iframe width="560" height="315" src="https://www.youtube.com/embed/rx74ySmQFXs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>

Mě se to moc líbí a doufal jsem, že AMP půjde kromě jiného přesně tímhle směrem.   Řešilo by to jednu z nevýhod současného webdesignu – [přílišnou složitost](https://www.vzhurudolu.cz/prirucka/amp-webari-preload) pro začínající. Už začaly vznikat první [kurzy AMP](https://amp.dev/documentation/courses/) pro webdesignem nedotčené.

Více je v textu [„AMP as your web framework“](https://blog.amp.dev/2019/05/01/amp-as-your-web-framework/). 


## Weby z Cache na původních URL? Uvidíme…

Zásadní výhoda AMP je zrychlení zobrazení webu. To je ale možné jen z AMP Cache, mezipaměti pro celé weby vytvářené touhle technologií.

Zásadní nevýhoda AMP je v tom, že se pak stránky zobrazují na URL poskytovatele keše, což je v českém případě skoro vždy Google. Moje stránka o HTTP/2 například sedí na této adrese:

```
https://www.google.com/amp/s/www.vzhurudolu.cz/amp/prirucka/http-2
```

Někomu to může být vcelku jedno, ale docela hodně lidem to fakt moc vadí. Jenže zatím to jinak nešlo. 

[Signed HTTP Exchanges](https://digichef.cz/signed-http-exchanges-aneb-vyuzivejte-amp-s-originalni-url) je technologie, která by prohlížeči umožnila zobrazování původních URL, i když bude AMP stránka kešovaná. 


<blockquote class="twitter-tweet"><p lang="en" dir="ltr">AMP pages are beautiful, but links to AMP pages? Not so much ... <br><br>Until today! Signed exchanges are here: now you can get instant loading for AMP on your own domain! <a href="https://twitter.com/hashtag/AMPConf?src=hash&ref_src=twsrc%5Etfw">#AMPConf</a> <a href="https://t.co/OSEcKDc3A5">pic.twitter.com/OSEcKDc3A5</a></p>— AMP Project (@AMPhtml) <a href="https://twitter.com/AMPhtml/status/1118318585678577664?ref_src=twsrc%5Etfw">April 17, 2019</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

Zatím je předčasné říci, zda se to ujme – nejen kvůli podpoře v prohlížečích, ale také kvůli [kritice Mozilly](https://mozilla.github.io/standards-positions/). Každopádně – poptávka je velká.


## JavaScript v AMP!

Aby platformy jako Google nebo Bing mohly AMP stránky kešovat, z výkonnostních a bezpečnostních důvodů není možné, aby do nich vývojáři psali klientský JavaScript tak jako to dělají na  současných webech.

AMP tohle řeší mnoha způsoby, hlavně ale [sadou hotových komponent](https://amp.dev/documentation/components/), díky kterým se u běžných webů bez JavaScriptu opravdu dokážete obejít. Navíc – nějaké programování tady omezeně možné je – podívejte se například na [amp-bind](https://amp.dev/documentation/components/amp-bind).

Jak bylo na AMP Conf 2019 uvedeno, tým pracuje na výrazném rozšíření javascriptových možnosti. 

<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Now at <a href="https://twitter.com/hashtag/AMPConf?src=hash&ref_src=twsrc%5Etfw">#AMPConf</a>, we release the Kraken<a href="https://twitter.com/kristoferbaxter?ref_src=twsrc%5Etfw">@kristoferbaxter</a> takes the stage to introduce 'amp-script'. Now your custom logic can be expressed with the world’s most popular programming language. <a href="https://twitter.com/AMPhtml/status/1118325005564162048?ref_src=twsrc%5Etfw">April 17, 2019</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

JavaScript by se spouštěl bokem ve Web Workeru a mohl by podporovat známé frameworky jako je Vue.js, React nebo Preact. Podívejte se na chystanou komponentu [amp-script](https://amp.dev/documentation/components/amp-script).

<div class="rwd-media">
<iframe width="560" height="315" src="https://www.youtube.com/embed/sYXkVOiz77I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>


## Už to je opravdu jen „AMP“

„Áempé“ jako „Accelerated Mobile Pages“ už neplatí. Jak jsem [před časem říkal](https://www.youtube.com/watch?v=7p80_AJEb34&feature=youtu.be) ani jedno slovo v té zkratce už plně neodpovídá zaměření technologie. Takže nově jen „AMP“.

To by za mě mohlo stačit. Jak se vám novinky líbí? Neváhejte mi napsat.

Představili toho samozřejmě více – nativní [podporu v Next.js](https://nextjs.org/blog/next-8-1), krásný nástroj pro tvorbu [AMP Stories](http://makestories.io/) a tak dále. Více toho je [v oficiálním blogpostu](https://blog.amp.dev/2019/04/17/amp-conf-2019-successful-web-experiences-for-everyone/).