/*

Product Item
============

Položka v seznamu produktů.

*/

// obal položek
// ------------

.vc-product-items {
  .vc-clearfix;

  // vice mista pro obsah
  @media only screen and (min-width: 320px) { margin: 0 -(@grid-gutter-width / 4); }

  // reset zpět
  @media only screen and (min-width: 960px) { margin: 0; }
}


// položka s produktem
// -------------------

.vc-product-item {
  float: left;
  width: percentage(1/1);
  margin-bottom: @line-height-computed;

  // při změně breakpointů změnit JS!

  @media only screen and (min-width: 320px) {
    width: percentage(1/2);
    padding: 0 @grid-gutter-width/4; // vice mista pro obsah
  }

  @media only screen and (min-width: 440px) { width: percentage(1/3); }

  @media only screen and (min-width: 580px) {
    width: percentage(1/4);

    .vc-product-items-home &:nth-of-type(5),
    .vc-product-items-home &:nth-of-type(6){ display:none; }
  }

  @media only screen and (min-width: 720px) {
    width: percentage(1/5);

    .vc-product-items-home &:nth-of-type(5){ display:block; }

    .vc-product-items-home &:nth-of-type(6){ display:none; }
  }

  @media only screen and (min-width: 960px) {
    width: percentage(1/4);
    padding: 0 @grid-gutter-width/2; // vetsi rozestup polozek

    .vc-product-items-home &:nth-of-type(5),
    .vc-product-items-home &:nth-of-type(6){ display:none; }
  }

  @media only screen and (min-width: 1600px) {
    width: percentage(1/5);

    .vc-product-items-home &:nth-of-type(5){ display:block; }

    .vc-product-items-home &:nth-of-type(6){ display:none; }
  }

  @media only screen and (min-width: 1900px) {
    width: percentage(1/6);

    .vc-product-items-home &:nth-of-type(5),
    .vc-product-items-home &:nth-of-type(6){ display:block; }
  }
}


// ### obrázek produktu

.vc-product-item-image {
  display: block;
  margin-top: @line-height-computed/4;
  margin-bottom: @line-height-computed/4;
  height: 100px;

  @media only screen and (min-width: 320px) {
    height: 110px;
    line-height: 110px;
    margin-bottom: 3vw;
    padding: 0 5%; // trochu zmensime obrazek uvnitr
  }

  @media only screen and (min-width: 960px) {
    padding: 0 15%; // jeste zmensime obrazek uvnitr
    margin-top: @line-height-computed;
    margin-bottom: 1.5*@line-height-computed;
  }

  img {
    width: inherit; // IE8 http://stackoverflow.com/questions/8610077/height-auto-in-internet-explorer-8-and-below
    max-width: 100%;
    max-height: 100%;
    height: auto;
  }
}


// ### text k produktu

.vc-product-item-text {
  height: auto;
  line-height: 1.2;
  margin-bottom: @padding-base-vertical;

  // breakpointy nutno zmenit, pokud by se zmenila
  // vysledna sirka elementu .vc-product-item
  // hodnoty v calc jsou X a V:
  // calc( X - V )
  // X (v px)
  // V (v vw, tedy viewport width)
  // a počítají se takto:
  // Amin = spodní šířka viewportu v px
  // Amax = horní šířka viewportu v px
  // Bmin = požadovaná výška v px při Amin
  // Bmax = požadovaná výška v px při Amax
  // je potřeba najít hodnotu X a V pro které zhruba platí
  //
  // V*(Amin/100)+Bmin = V*(Amax/100)+Bmax
  //
  // Prakticky lze použít tabulku na https://goo.gl/hA5HHG
  // měnit hodnotu V tak dlouho až poslední sloupec bude 100%
  // někdy je potřeba o několik px upravit Bmax,
  // aby to vůbec vyšlo nebo zkusit v CSS když to vyjde blízko a nechat být

  @media only screen and (min-width: 320px) {
    height: 150px; // fallback pro hloupé prohlížeče
    height: calc(~"259px - 34vw"); // 150 až 110px dle šířky viewportu

    .vc-cart-gifts & { height: 90px; }
  }

  @media only screen and (min-width: 440px) {
    height: 160px; // fallback pro hloupé prohlížeče
    height: calc(~"252px - 21vw"); // 160 až 130px dle šířky viewportu
  }

  @media only screen and (min-width: 580px) {
    height: calc(~"264px - 18vw");  // 160 až 135px dle šířky viewportu
  }

  @media only screen and (min-width: 720px) {
    height: 150px; // fallback pro hloupé prohlížeče
    height: calc(~"193px - 6vw");  // 150 až 135px dle šířky viewportu
  }

  @media only screen and (min-width: 960px) {
    height: calc(~"148px - 4vw");  // 110 až 100px dle šířky viewportu

    .vc-cart-gifts & { height: 70px; }
  }

  // tady už se šířka nemění, lze nastavit výšku natvrdo
  @media only screen and (min-width: @vc-layout-full-start) {
    height: 100px;

    .vc-cart-gifts & { height: 60px; }
  }
}


// ### odkaz

.vc-product-item {
  > a,
  > a:link {
    text-decoration: none;
    display: block;
    text-align: center;
    position: relative; // Kvuli .vc-offer-icon
    border: 1px solid transparent;
    border-bottom-color: @vc-border-color-light;

    .vc-cart-gifts & { border-bottom-color: transparent; }

    &:hover {
      cursor: pointer;
      background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 75%, rgba(248, 248, 248, 1) 100%);
      border-color: @vc-border-color-light;
      border-radius: @border-radius-large;
    }

  }

  // ### nadpis
  // je tady kvůli specificitě
  .vc-product-item-heading {
    font-size: @font-size-small;
    margin: 0 0 (@line-height-computed/6);
  }

  .vc-product-item-heading-text {
    display: block;
    line-height: 1.1;
    color: @vc-color-blue;
    font-size: @font-size-base;
    padding-left: 2px;
    padding-right: 2px;


    @media only screen and (min-width: 320px) {
      padding-left: 4px;
      padding-right: 4px;
    }

    @media only screen and (min-width: @vc-layout-start) {
      padding-left: 5px;
      padding-right: 5px;
    }

    a:hover & {
      text-decoration: underline;
      color: @vc-color-red;
    }
  }
}

// ### skladem
.vc-product-item-stock {
  font-size: @font-size-small;
  color: @vc-color-green;
  display: inline-block;
  margin: 0;
  padding: 0 0.25em;
}


// kontejner pro tlačítko výběru dárku
// -----------------------------------
.vc-product-item-check {
  text-align: center;
  padding: @line-height-computed/2 0;
  border-bottom: 1px solid @vc-border-color-light;
}

/*
// debugovací pozadí, pro produkci nechat zakomentované
// ----------------------------------------------------

.vc-product-items { background-color: lighten(lavender, 20%); }

.vc-product-item { background-color: lighten(lightcoral, 20%); }

.vc-product-item-image { background-color: lighten(skyblue, 20%); }

.vc-product-item-text { background-color: midnightblue; }
*/
