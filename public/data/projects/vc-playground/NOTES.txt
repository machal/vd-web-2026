

TODO
----




Tech & drobnosti
................

- načítání webfontů
  - zatím asi neřešit, Google je dost rychlej
  - 5 souborů, 4.5 vteřiny zobrazení
  - http://www.webpagetest.org/video/compare.php?tests=150526_NA_365208b01220ca521f2d4d4a5ef28f16-r:1-c:0
- BUG: order-personal-details.php:1584 GET http://localhost:3000/dist/fonts/glyphicons-halflings-regular.woff2
- BS komponenty do dokumentace: Collapse atd. viz Gruntfile.js
- Picturefill 2.3 a IE8:
  https://github.com/scottjehl/picturefill/issues/450
  https://github.com/scottjehl/picturefill/tree/afarkas-pf3-proposal
- Bootstrap collapse
  - zavírání když kliknu jinam (označím jiný radio)
    - http://localhost:3000/_pages/order-delivery-payment.php a košík
  - dostat do foot-links na mobilech
  - hovery nad label
  - pacička nad label?
  - všude caret jako ukazatel rozklavatelnosti?
- Bootstrap popover, který zmizí po kliknutí kamkoliv - nefunguje na mobilech
  - proto ponechana verze s klikanim
  - https://www.google.cz/webhp?sourceid=chrome-instant&ion=1&espv=2&ie=UTF-8#q=data-trigger%3D%22focus%22%20popover%20mobile
  - http://getbootstrap.com/javascript/#popovers-examples "dismissalbe"
- Rychlost později
  - unCSS
  - kompletní workflow od Filament
    - http://www.filamentgroup.com/lab/performance-rwd.html
  - ie8: real zkusit, s loadCSS nefičí respond?
    inline? https://github.com/scottjehl/Respond/pull/154
  - 14kb?
  - pine.js vlastní build (nepotřebuji vertical a všechny fx)
  - zapnout gzip na lokále
  - enhance a loadJS
  - enhance: css jen poprvé s cookie
  - critical css
    - divné probliky na desktopu čéče
    - do ady osmani
    - není tam moc kb? co těch 14? :)
    proč platí
    .js .pine-horizontal .pine-level-2
    a ne .pine-horizontal .pine-level-open>.pine-level-2
    když druhé je ve ve style.css a tedy v kódu později
- Patička první klik
 https://basecamp.com/1971606/projects/4088362/messages/33234478#comment_222492812
- Hlavička: zrušit hovery na malých
  https://basecamp.com/1971606/projects/4088362/messages/33233955
- role=""
- tab navigace nefunguje :(
- Dan osobně
  - https://github.com/machal/vc-rwd/commit/da15bbd08129c0a72bb0ad13f43db2c02571773e#commitcomment-11085822
  - refaktor buttons.less + pryč BS tlačítka

Později
.......

Detail později:
- zmenšit varianty, protože zatím nebude větší než 96px obrázek
- varianty produktů: "vybrat", ne konkrétní produkt
- varianty rwd obrázků + variant produktu (freshlooks)
- všude jednodušší motivátor? čekám na Honzu v BC.
- sticky obrázek? jen má defaultně relativní pozici, takže nebude simple
  http://updates.html5rocks.com/2012/08/Stick-your-landings-position-sticky-lands-in-WebKit

Paticka pak
- vektorove obrazky
- sprity pro vsechny obrazky
- ios6 otevirani/zavirani seznamu
- K. Miklikova poresit
- list na a4.4 - ten font nemá bold variantu?



http://www.321linsen.de/
http://www.lentiamo.co.uk/



www.1800contacts.com
http://www.lenstore.co.uk/
http://www.webeyecare.com/
http://www.visiondirect.co.uk/


KNOWHOW
-------

Logo
.....

--> <picture><source type="image/svg+xml">
    https://github.com/scottjehl/picturefill/issues/136#issuecomment-38684830
    http://css-tricks.com/svg-fallbacks/
    viz commit 40a5294
    - desktop: na těch co umí picture se stáhne png, ff např. ale svg
    - ie8: png - ok, iphone - ok,
    viz commit 53f65d0
--> nakonec jen jedno SVG
    - Varianta s <picture> byla totiz jednak pomala a jednak v Chrome a prohlizecich s <picture> podporou
    pridavala PNG variantu ackoliv ta nebyla potreba.


Lepší SVG nahrazení v img
.................

--> Viz html-foot.php


Rychlost načítání
.................
iP4 v Chrome emul:
- FreshLook ColorBlends (2 čočky)
  - Současný/Edge: Dom 10s, load 27s
  - Současný/3G: Dom 4s, load 9s
  - Prototyp před optim/Edge: Dom 8.4s, load 29s
  - Prototyp po optim/3G: Dom 2.8s, load 9.6s

Grunt, LESS a Sourcemapy
.......................
- todo: grunt responsive_images běží jen když cílové soubory neexistují
Poznámky pro článek:
https://docs.google.com/document/d/1E1tG_p4ktF1KusXV527b1IJ3C0iitGreT72Npcbr1fE/edit


Grunt Sprite-packer
...................

// --- spritepacker ---
// Generuje obrazkove sprity, vcetne SVG verzi.
// Potrebuje na lokale nainstalovani ImageMagick
spritepacker: {
  payments_svg: {
    options: {
      // Handlebars sablona pro vygenerovani vysledneho CSSks
      template: 'src/less/sprites/payments_svg.css.tpl',
      // Cesta k vyslednemu CSSku
      destCss: 'src/less/sprites/payments_svg.less',
      // URL obrazku jak budou volany z vysledneho CSSka
      baseUrl: '/dist/content-img/sprites/',
      // Generujeme SVG ze SVG
      svg: true,
    },
    files: {
      'dist/content-img/sprites/payments.svg': ['src/content-img/payments/*.svg']
    }
  }
},

Progressive enhacenment
......................
Článek? viz
- product-variants a <select> jako non-js reseni
- motivation-box a 2 ruzne layoutu - linear krapy / widget pro js+moderni


Filtry UX
.........

1) navigace 2. úrovně
   - 3: typ, značky, výrobce http://www.vasecocky.cz/kontaktni-cocky.html
   - 2: značky, objem http://www.vasecocky.cz/roztoky-pro-kontaktni-cocky.html
   - zavádíme místo toho podkategorie: http://localhost:3000/_pages/category.php
2) podkategorie (rušíme)
   - dioptrické/nedioptrické: http://www.vasecocky.cz/barevne-kontaktni-cocky.html
3) kombinační filtry
   - jednodenní + johnson: http://www.vasecocky.cz/jednodenni-kontaktni-cocky,johnson-and-johnson.html
   - http://localhost:3000/_pages/category_2nd_level.php
4) řazení (rušíme)
   oblíbenost / název / cena

Fakta:
- 3. úroveň snad jen v jednom případě
- lenstore v kategorii vůbec dále nedělí, mají stránku se struktoru katetorií když se ztratím
- kombinační filtry ano při přocházení 2. úrovně u čoček.

Otázky, argumenty
- Sloupek nepřevzít, protože komunikuje pozici ve struktuře, vedlejší kategorie což při nutném sbalování
  na malém displeji postrádá smysl. Potřebuje někdo na velkém displeji procházet vedlejší kategorie?
- Řazení úplně pryč, protože v objemnějších kategoriích je lepší filtrovat podle kategorie.
  V menších kategoriích zase řazení není potřeba. Na malých zřejmě bude hodně málo místa.
- Nedělat třetí úroveň.

Critical CSS poznámky
.....................

- U js enhanced komponent je třeba toho hrozně moc dávat do forceInclude:


Pine.JS
.......

- v IE8 to tedy vůbec nefičí
  Kromě jiného: Pine.JS v IE8 namísto .fx-hover-fade, která má být na každém desktopu,
  nechává .fx-collapse z parametru fxSmallDisplay. (ale viz testy, které tam nejedou: https://github.com/rwd-pine/pine)
- ipad/desktop: submenu zavrit i kliknutim otevrenou polozku
- animace pri otevirani
- callbacky (napr. po kliku na ikonu chci spustit funkci co mi zavre ostatni panely)
- z-index 2. úrovně na 50000 - má být kolem 100?
- používáme vůbec @p-base-font-size?
- class="needsclick" pokud pouzivas fastclick
