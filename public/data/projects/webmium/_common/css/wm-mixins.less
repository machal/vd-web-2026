/* 
Mixiny
==============================================================================

Většinou parametrické mixiny. Znovupoužitelné kusy CSS kódu, ke kterému 
nepotřebujeme přímý přístup z HTML jako k třídám.

Třídy s prefixem `.wm-m-`

*/

// Sekce v obsahu
// --------------
//
// Vzdy odsazeni zezdola a pro jistotu smazani clearu.
// Napr. vsechny pagelety, navigace atd.

.wm-m-section() {
	margin-bottom: 2*@baseLineHeight;

	@media (max-width: @wmSmallDisplayEnd) {
		margin-bottom: @baseLineHeight;
	}
}

// Fluidní obrázky
// ----------------

.wm-m-fluid-images() {
	img {
		max-width: 100%;
		height: auto;
	}
}

// Obrazek na malem displeji
// -------------------------

.wm-m-image-on-small-display() {
	@media (max-width: @wmSmallDisplayEnd) {
		float: none;
		text-align: center;
		display: block;
		margin: @baseLineHeight auto;
		width: 100%;
	}
}


// Proporcionální změna velikosti médií
// ------------------------------------

// Responzivni média se zachováním poměru stran:
// http://kratce.vzhurudolu.cz/post/44617199471/responzivni-media-se-zachovanim-pomeru-stran
//
// ### Rodič
// Ve `@width`, `@height` je poměr stran (napr. 16:9 je `.wm-m-proportional-parent(16, 9)`)

.wm-m-proportional-parent(@width, @height) {
	position: relative;
	width: 100%;
	height: 0;
  padding-bottom: @height/@width*99%;
  // 100% vytvari 1px chybu pri zaokrouhlovani v urcitych velikostech
}

// ### Dítě
// !important tady potrebujeme k prepsani inline CSS vkladane SMapovym javascriptem

.wm-m-proportional-child() {
	position: absolute;
	width: 100% !important;
	height: 100% !important;
	border: 0;
}

// Stíny na layoutu
// ----------------

.wm-m-shadow-topbottom() {
  .content-container {
    position: relative;

    &:before, &:after {
      position: absolute;
      content: '';
      z-index: -1;
      left: 2.5%;
      top: 0;
      width: 95%;
      height: 40px;
      .border-radius(30%);
      .box-shadow(0 0 20px rgba(0,0,0,.3));
    }

    &:after {
      top: auto;
      bottom: 0;
    }
  }
}

// V některých variantách šablon může mít obsahovy blok 
// širší (.content.wider) a nejširší variantu (.content.widest)
.wm-m-wider-content() {
	
	.content-dimensions() {
		width: 66%;
		margin-left: 16.5%;
		margin-right: 16.5%;		
	}
	
	.content-wider-dimensions() {
		width: 80%;
		margin-left: 10%;
		margin-right: 10%;		
	}	
	
	.content-widest-dimensions() {
		width: 90%;
		margin-left: 5%;
		margin-right: 5%;		
	}	
	
	.content {
		@media (min-width: @wmLargeDisplayStart) { .content-dimensions; }
		.old-ie & { .content-dimensions; }
	}

	.content.wider {
		@media (min-width: @wmLargeDisplayStart) { .content-wider-dimensions; }
		.old-ie & { .content-wider-dimensions; }
	}

	.content.widest {
		@media (min-width: @wmLargeDisplayStart) { .content-widest-dimensions; }
		.old-ie & { .content-widest-dimensions; }
	}	
}


