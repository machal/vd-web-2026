@use "sass:color";
@use "sass:meta";
@use "../core/core";

/* Code samples */

// Base settings (target direct tags)
pre {
  overflow: auto;
  max-width: 100%;
  white-space: pre;
  line-height: 1.15;
}

pre {
  padding-bottom: 1.25rem; // no margin because of scroolbar
  margin-bottom: 0;
}

code, kbd {
  font-family: Inconsolata, Consolas, monospace;
  color: var(--vd-code-color);
  letter-spacing: -0.01rem;
  white-space: nowrap; // mainly because of living inside <table>, /prirucka/css-box-alignment
}

pre code {
  white-space: pre;
}

// Code inside link
a code {
  color: var(--vd-code-color);
}

// Code inside headings
h1, h2, h3, h4 {
  code {
    color: var(--vd-text-color-lighter);
  }
}

// Import code theme (based on e-books)
@include meta.load-css("hljs"); // Pro staré highlight.js

// Shiki/Astro (theme: 'css-variables') – mapování na VD barvy
// Tokeny mají style="color:var(--astro-code-token-xyz)". Barvy měň v :root (variables) nebo zde.
:root {
  --astro-code-color-text: var(--vd-code-color);
  --astro-code-color-background: var(--vd-content-bg-color);
  --astro-code-token-keyword: var(--vd-code-color-1);
  --astro-code-token-string: var(--vd-code-color-2);
  --astro-code-token-comment: var(--vd-code-color-4);
  --astro-code-token-parameter: var(--vd-code-color-1);
  --astro-code-token-function: var(--vd-code-color-1);
  --astro-code-token-string-expression: var(--vd-code-color-2);
  --astro-code-token-punctuation: var(--vd-code-color-3);
  --astro-code-token-constant: var(--vd-code-color-1);
  --astro-code-token-link: var(--vd-link-color);
}
pre.astro-code {
  background-color: var(--astro-code-color-background);
  color: var(--astro-code-color-text);
}
